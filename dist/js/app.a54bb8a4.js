(function(e){function t(t){for(var n,l,r=t[0],s=t[1],c=t[2],d=0,u=[];d<r.length;d++)l=r[d],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&u.push(i[l][0]),i[l]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);_&&_(t);while(u.length)u.shift()();return a.push.apply(a,c||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],n=!0,r=1;r<o.length;r++){var s=o[r];0!==i[s]&&(n=!1)}n&&(a.splice(t--,1),e=l(l.s=o[0]))}return e}var n={},i={app:0},a=[];function l(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,l),o.l=!0,o.exports}l.m=e,l.c=n,l.d=function(e,t,o){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(l.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(o,n,function(t){return e[t]}.bind(null,n));return o},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var _=s;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";var n=o("85ec"),i=o.n(n);i.a},"2bf7":function(e,t,o){"use strict";var n=o("3f36"),i=o.n(n);i.a},"3f36":function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"App"}},[o("el-container",[o("el-header",[e._v("微信问答管理中心")]),o("el-container",[o("el-aside",{attrs:{width:"200px"}},[o("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:e.selectItem}},[o("el-submenu",{attrs:{index:"1"}},[o("template",{slot:"title"},[o("i",{staticClass:"el-icon-location"}),o("span",[e._v("微信管理")])]),o("el-menu-item",{attrs:{index:"/wx/client"}},[e._v("客户端")]),o("el-menu-item",{attrs:{index:"/wx/bot"}},[e._v("微信号")]),o("el-menu-item",{attrs:{index:"/wx/friend"}},[e._v("好友")])],2),o("el-menu-item",{attrs:{index:"/qa_data"}},[o("i",{staticClass:"el-icon-menu"}),o("span",{attrs:{slot:"title"},slot:"title"},[e._v("问答数据管理")])]),o("el-menu-item",{attrs:{index:"3"}},[o("i",{staticClass:"el-icon-menu"}),o("span",{attrs:{slot:"title"},slot:"title"},[e._v("实体管理")])]),o("el-menu-item",{attrs:{index:"4"}},[o("i",{staticClass:"el-icon-setting"}),o("span",{attrs:{slot:"title"},slot:"title"},[e._v("导航四")])])],1)],1),o("el-main",[o("router-view")],1)],1)],1)],1)},a=[],l={name:"App",methods:{selectItem:function(e){this.$router.push(e)}}},r=l,s=(o("034f"),o("2877")),c=Object(s["a"])(r,i,a,!1,null,null,null),_=c.exports,d=o("8c4f"),u=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"qa-data"},[o("h1",[e._v("问答数据管理")]),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.qa_data_table}},[o("el-table-column",{attrs:{label:"问题",prop:"title"}}),o("el-table-column",{attrs:{label:"答案",prop:"answers[0].answer"}}),o("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[o("el-input",{attrs:{width:"70%",size:"mini",placeholder:"输入关键字搜索"},on:{change:e.load_qa_data},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.editQAData(t.$index,t.row)}}},[e._v("编辑")])]}}])}),o("el-table-column",{attrs:{align:"right",width:"70px"},scopedSlots:e._u([{key:"header",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加")])]}},{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.deleteQuestion(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),o("el-dialog",{attrs:{title:"添加问题",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{attrs:{model:e.qa_form}},[o("el-form-item",{attrs:{label:"问题","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.qa_form.question,callback:function(t){e.$set(e.qa_form,"question",t)},expression:"qa_form.question"}})],1),o("el-form-item",{attrs:{label:"相似问题","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.qa_form.similar_questions,callback:function(t){e.$set(e.qa_form,"similar_questions",t)},expression:"qa_form.similar_questions"}})],1),o("el-form-item",{attrs:{label:"回答","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.qa_form.answer,callback:function(t){e.$set(e.qa_form,"answer",t)},expression:"qa_form.answer"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addQAData()}}},[e._v("确 定")])],1)],1)],1)},f=[],p=(o("ac1f"),o("841c"),{name:"QAData",data:function(){return{qa_data_table:[],search:"",dialogFormVisible:!1,qa_form:{answer:"",question:"",similar_questions:""},formLabelWidth:"120px"}},methods:{load_qa_data:function(){var e=this;$.post(e.robot_url+"/api/qa_data",{content:e.search},(function(t,o){"success"===o&&200===t.code&&(e.qa_data_table=t.data)}))},editQAData:function(e,t){this.$router.push({name:"QAInfo",params:{question_id:t.id}})},deleteQuestion:function(e,t){var o=this;o.$confirm("此确定删除该信息？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){$.ajax({type:"DELETE",url:o.robot_url+"/api/qa_data_detail",data:{question_id:t.id,answer_id:t.answer_id},success:function(e,t){"success"===e?(o.$message({type:"success",message:"删除成功!"}),o.load_qa_data()):o.$message({type:"error",message:"删除失败!"})}})})).catch((function(){o.$message({type:"info",message:"已取消删除"})}))},addQAData:function(){var e=this.qa_form.question,t=this.qa_form.answer,o=this;$.post(o.robot_url+"/api/qa_data_detail",{question:e,answer:t},(function(e,t){"success"===t&&"success"===e?(o.$message({type:"success",message:"创建成功!"}),o.dialogFormVisible=!1):o.$message({type:"error",message:"创建失败!"})}))}},mounted:function(){this.load_qa_data()}}),m=p,b=Object(s["a"])(m,u,f,!1,null,"3804c093",null),w=b.exports,g=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"qa_info"},[o("h1",[e._v("问题编辑")]),o("el-row",{staticStyle:{"margin-top":"50px"}},[o("el-col",{attrs:{span:7}},[o("h4",[e._v("问题展示")]),o("el-form",{ref:"form",attrs:{"label-position":"left","label-width":"80px",model:e.question_form}},[o("el-form-item",{attrs:{label:"问题"}},[o("el-input",{model:{value:e.question_form.title,callback:function(t){e.$set(e.question_form,"title",t)},expression:"question_form.title"}})],1),o("el-form-item",{attrs:{label:"相似问题"}},[o("el-input",{attrs:{type:"textarea",rows:16},model:{value:e.question_form.similar_questions,callback:function(t){e.$set(e.question_form,"similar_questions",t)},expression:"question_form.similar_questions"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.save_question_info}},[e._v("保存问题信息")])],1)],1)],1),o("el-col",{attrs:{span:1}},[o("div",{staticStyle:{height:"20px"}})]),o("el-col",{attrs:{span:7}},[o("h4",[e._v("答案展示")]),o("el-form",{ref:"form",attrs:{"label-position":"left","label-width":"80px",model:e.answer_form}},[o("el-form-item",{attrs:{label:"问题"}},[o("el-input",{model:{value:e.answer_form.title,callback:function(t){e.$set(e.answer_form,"title",t)},expression:"answer_form.title"}})],1),e._l(e.answer_form.answers,(function(t){return o("el-form-item",{attrs:{label:t.emotion}},[o("el-input",{model:{value:t.answer,callback:function(o){e.$set(t,"answer",o)},expression:"answer.answer"}})],1)})),o("el-form-item",{attrs:{label:"校验状态"}},[o("el-radio-group",{model:{value:e.answer_form.check_state,callback:function(t){e.$set(e.answer_form,"check_state",t)},expression:"answer_form.check_state"}},[o("el-radio",{attrs:{label:0}},[e._v("未校验")]),o("el-radio",{attrs:{label:1}},[e._v("已校验")])],1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.save_answer_info}},[e._v("保存答案信息")]),o("el-button",[e._v("取消")])],1)],2)],1),o("el-col",{attrs:{span:1}},[o("div",{staticStyle:{height:"20px"}})]),o("el-col",{attrs:{span:7}},[o("h4",[e._v("答案绑定")]),o("el-form",{ref:"form",attrs:{"label-position":"left","label-width":"80px",model:e.new_answer_form}},[o("el-form-item",{attrs:{label:"检索问题"}},[o("el-autocomplete",{attrs:{"fetch-suggestions":e.queryAnswer},on:{select:e.handleSelect},model:{value:e.state1,callback:function(t){e.state1=t},expression:"state1"}})],1),e._l(e.new_answer_form.answers,(function(t){return o("el-form-item",{attrs:{label:t.emotion}},[o("el-input",{attrs:{disabled:!0},model:{value:t.answer[0],callback:function(o){e.$set(t.answer,0,o)},expression:"answer.answer[0]"}})],1)})),o("el-form-item",{attrs:{label:"校验状态"}},[o("el-radio-group",{attrs:{disabled:!0},model:{value:e.new_answer_form.check_state,callback:function(t){e.$set(e.new_answer_form,"check_state",t)},expression:"new_answer_form.check_state"}},[o("el-radio",{attrs:{label:0}},[e._v("未校验")]),o("el-radio",{attrs:{label:1}},[e._v("已校验")])],1)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.change_answer_to_new_answer}},[e._v("绑定到此问题")]),o("el-button",{attrs:{type:"primary"},on:{click:e.change_answer}},[e._v("取消绑定")])],1)],2)],1)],1)],1)},h=[],y={name:"QAInfo",data:function(){return{question_id:this.$route.params.question_id,question_form:{},answer_form:{},new_answer_form:{},state1:"",answer_select_list:[],answer_id:"",new_answer_id:""}},methods:{load_qa_info:function(){var e=this;$.get(e.robot_url+"/api/question_detail_info?question_id="+e.question_id,(function(t,o){"success"===o&&200===t.code?(e.question_form=t.data,e.answer_id=t.data.answer_id):e.$message({type:"error",message:"问答数据加载失败！"})}))},load_answer_info:function(){var e=this;$.get(e.robot_url+"/api/answer_detail_info?answer_id="+e.answer_id,(function(t,o){"success"===o&&200===t.code?e.answer_form=t.data:e.$message({type:"error",message:"加载失败！"})}))},load_new_answer_info:function(){var e=this;$.get(e.robot_url+"/api/answer_detail_info?answer_id="+e.new_answer_id,(function(t,o){"success"===o&&200===t.code?e.new_answer_form=t.data:e.$message({type:"error",message:"加载失败！"})}))},load_answer_select_list:function(){var e=this;console.log(e.question_form.title),$.get(e.robot_url+"/api/answer_info?title="+e.question_form.title,(function(t,o){"success"===o&&200===t.code?e.answer_select_list=t.data:e.$message({type:"error",message:"加载失败！"})}))},queryAnswer:function(e,t){var o=this;e=e;e&&$.get(o.robot_url+"/api/answer_info?title="+e,(function(e,t){"success"===t&&200===e.code?o.answer_select_list=e.data:o.$message({type:"error",message:"加载失败！"})})),t(this.answer_select_list)},handleSelect:function(e){this.new_answer_id=e.id},change_answer:function(){this.answer_id=this.question_form.answer_id},change_answer_to_new_answer:function(){this.answer_id=this.new_answer_id},save_question_info:function(){var e=this,t=e.question_form;t.answer_id=e.answer_id,$.ajax({type:"PUT",url:e.robot_url+"/api/question_detail_info",data:t,success:function(t,o){"success"===o&&"success"===t?e.$message({type:"success",message:"保存成功"}):e.$message({type:"error",message:"保存失败"})}})},save_answer_info:function(){var e=this,t=JSON.stringify(this.answer_form);console.log(t),$.ajax({type:"PUT",url:e.robot_url+"/api/answer_detail_info",data:t,success:function(t,o){"success"===o&&"success"===t?e.$message({type:"success",message:"保存成功"}):e.$message({type:"error",message:"保存失败"})}})}},watch:{answer_id:function(e,t){this.load_answer_info()},new_answer_id:function(e,t){this.load_new_answer_info()},question_form:function(e,t){this.load_answer_select_list()}},mounted:function(){this.load_qa_info()}},v=y,x=Object(s["a"])(v,g,h,!1,null,"7257da26",null),k=x.exports,S=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"wx_client"},[o("h1",[e._v("客户端管理")]),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.client}},[o("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[o("el-table",{staticStyle:{width:"100%"},attrs:{border:"",stripe:"",data:t.row.wxbot},on:{"row-dblclick":e.get_bot_detail}},[o("el-table-column",{attrs:{label:"微信编号",prop:"weixin_num"}}),o("el-table-column",{attrs:{label:"昵称",prop:"weixin_nickname"}}),o("el-table-column",{attrs:{label:"电话",prop:"weixin_phone"}}),o("el-table-column",{attrs:{label:"wxid",prop:"weixin_wxid"}}),o("el-table-column",{attrs:{label:"id",prop:"weixin_id"}})],1)],1)]}}])}),o("el-table-column",{attrs:{label:"id",prop:"_id"}}),o("el-table-column",{attrs:{label:"名称",prop:"name"}}),o("el-table-column",{attrs:{label:"host",prop:"host"}}),o("el-table-column",{attrs:{label:"接收端口",prop:"accept_port"}}),o("el-table-column",{attrs:{label:"发送端口",prop:"send_port"}}),o("el-table-column",{attrs:{label:"连接状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(o){return e.change_connect_state(t.row)}},model:{value:t.row.connect_state,callback:function(o){e.$set(t.row,"connect_state",o)},expression:"scope.row.connect_state"}})]}}])}),o("el-table-column",{attrs:{label:"自动加好友"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(o){return e.auto_friend(t.row)}},model:{value:t.row.auto_friend,callback:function(o){e.$set(t.row,"auto_friend",o)},expression:"scope.row.auto_friend"}})]}}])}),o("el-table-column",{attrs:{label:"自动加群"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(o){return e.auto_group(t.row)}},model:{value:t.row.auto_group,callback:function(o){e.$set(t.row,"auto_group",o)},expression:"scope.row.auto_group"}})]}}])}),o("el-table-column",{attrs:{align:"right","min-width":"150px;"},scopedSlots:e._u([{key:"header",fn:function(t){return[o("el-input",{attrs:{width:"70%",size:"mini",placeholder:"输入关键字搜索"},on:{change:e.get_client_info},model:{value:e.client_search,callback:function(t){e.client_search=t},expression:"client_search"}})]}},{key:"default",fn:function(t){return[t.row.connect_state?o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(o){return e.login_wx(t.row)}}},[e._v("登录微信")]):o("el-button",{attrs:{size:"mini",disabled:"",type:"primary"}},[e._v("登录微信")]),o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(o){return e.get_login_image(t.row)}}},[e._v("获取二维码")])]}}])}),o("el-table-column",{attrs:{align:"right",width:"70px"},scopedSlots:e._u([{key:"header",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.get_client_info}},[e._v("刷新")])]}},{key:"default",fn:function(t){return[t.row.connect_state?o("el-button",{attrs:{size:"mini",disabled:""},on:{click:function(o){return e.edit_client(t.row)}}},[e._v("编辑")]):o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.edit_client(t.row)}}},[e._v("编辑")])]}}])}),o("el-table-column",{attrs:{align:"right",width:"70px"},scopedSlots:e._u([{key:"header",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.add_client_dialog=!0,e.add_client_form={}}}},[e._v("添加")])]}},{key:"default",fn:function(t){return[t.row.connect_state?o("el-button",{attrs:{size:"mini",type:"danger",disabled:""},on:{click:function(o){return e.delete_client(t.row)}}},[e._v("删除")]):o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.delete_client(t.row)}}},[e._v("删除")])]}}])})],1),o("el-dialog",{attrs:{title:"添加问题",visible:e.add_client_dialog},on:{"update:visible":function(t){e.add_client_dialog=t}}},[o("el-form",{attrs:{model:e.add_client_form}},[o("el-form-item",{attrs:{label:"名称","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.add_client_form.name,callback:function(t){e.$set(e.add_client_form,"name",t)},expression:"add_client_form.name"}})],1),o("el-form-item",{attrs:{label:"host","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.add_client_form.host,callback:function(t){e.$set(e.add_client_form,"host",t)},expression:"add_client_form.host"}})],1),o("el-form-item",{attrs:{label:"接收端口","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.add_client_form.accept_port,callback:function(t){e.$set(e.add_client_form,"accept_port",t)},expression:"add_client_form.accept_port"}})],1),o("el-form-item",{attrs:{label:"发送端口","label-width":e.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.add_client_form.send_port,callback:function(t){e.$set(e.add_client_form,"send_port",t)},expression:"add_client_form.send_port"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1,e.add_client_form={}}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.create_client}},[e._v("确 定")])],1)],1),o("el-dialog",{attrs:{title:"登录二维码",visible:e.login_dialog,width:"15%"},on:{"update:visible":function(t){e.login_dialog=t}}},[o("img",{staticStyle:{width:"80%",margin:"10%"},attrs:{src:e.wx_url+e.login_image_url}})])],1)},q=[],z={name:"WXClient",data:function(){return{client:[],client_search:"",add_client_dialog:!1,add_client_form:{},formLabelWidth:"120px",client_page:1,client_page_size:12,login_image_url:"",login_dialog:!1}},methods:{get_client_info:function(){var e=this;$.get(e.wx_url+"/wx/client?name="+e.client_search+"&page="+e.client_page+"&page_size="+e.client_page_size,(function(t,o){"success"===o&&200===t.code&&(e.client=t.data)}))},create_client:function(){var e=this;$.post(e.wx_url+"/wx/client",e.add_client_form,(function(t,o){"success"===o&&200===t.code&&(e.$message({type:"success",message:"保存成功!"}),e.add_client_dialog=!1,e.add_client_form={},e.get_client_info())}))},change_connect_state:function(e){var t=this,o=e._id,n=e.connect_state;$.post(t.wx_url+"/wx/client/connect",{client_id:o,connect_state:n},(function(e,o){!1===e.data?!1===n?t.$message({type:"success",message:"断开连接成功!"}):t.$message({type:"error",message:"连接失败!"}):!1===n?t.$message({type:"error",message:"断开连接失败!"}):t.$message({type:"success",message:"连接成功!"}),t.get_client_info()}))},edit_client:function(e){this.add_client_form=e,this.add_client_dialog=!0},delete_client:function(e){var t=this;t.$confirm("此确定删除该信息？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){$.ajax({type:"DELETE",url:t.wx_url+"/wx/client",data:{client_id:e._id},success:function(e,o){"success"===e.data?(t.$message({type:"success",message:"删除成功!"}),t.get_client_info()):t.$message({type:"error",message:"删除失败!"})}})})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},login_wx:function(e){var t=this;$.post(t.wx_url+"/wx/client/login",{client_id:e._id},(function(e,o){"success"===o&200===e.code&&t.$message({type:"success",message:"打开登录成功，需手机操作！"})}))},get_bot_detail:function(e,t,o){this.$router.push({name:"WXBotDetail",params:{wxid:e.weixin_wxid}})},get_login_image:function(e){var t=this;$.get(t.wx_url+"/wx/client/login?client_id="+e._id,(function(e,o){"success"===o&&200===e.code&&(t.login_image_url=e.data.login_image)})),this.login_dialog=!0},auto_friend:function(e){var t=this,o=e._id,n=e.auto_friend;$.get(t.wx_url+"/wx/client/auto_friend?client_id="+o+"&auto_friend_state="+n,(function(e,o){"success"===o&&200===e.code&&t.$message({type:"success",message:"成功"})}))},auto_group:function(e){var t=this,o=e._id,n=e.auto_group;$.get(t.wx_url+"/wx/client/auto_group?client_id="+o+"&auto_group_state="+n,(function(e,o){"success"===o&&200===e.code&&t.$message({type:"success",message:"成功"})}))}},mounted:function(){this.get_client_info()}},C=z,j=Object(s["a"])(C,S,q,!1,null,"4e801a1c",null),O=j.exports,W=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"hello"},[o("h1",[e._v("微信号管理")]),o("el-form",{staticClass:"demo-form-inline",staticStyle:{"margin-top":"40px"},attrs:{inline:!0,model:e.bot_search_form}},[o("el-form-item",{attrs:{label:"昵称"}},[o("el-input",{attrs:{placeholder:"输入关键字搜索"},model:{value:e.bot_search_form.nickname,callback:function(t){e.$set(e.bot_search_form,"nickname",t)},expression:"bot_search_form.nickname"}})],1),o("el-form-item",{attrs:{label:"所属客户端"}},[o("el-select",{attrs:{placeholder:"客户端"},model:{value:e.bot_search_form.client_id,callback:function(t){e.$set(e.bot_search_form,"client_id",t)},expression:"bot_search_form.client_id"}},[o("el-option",{attrs:{label:"全部",value:""}}),e._l(e.client_info,(function(e){return o("el-option",{attrs:{label:e.name,value:e.client_id}})}))],2)],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.load_wxbot}},[e._v("查询")])],1)],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.wxbot},on:{"row-dblclick":e.get_bot_detail}},[o("el-table-column",{attrs:{label:"wxid",prop:"wxid"}}),o("el-table-column",{attrs:{label:"昵称",prop:"nickname"}}),o("el-table-column",{attrs:{label:"手机号",prop:"phone"}}),o("el-table-column",{attrs:{label:"好友数",prop:"friend_num"}}),o("el-table-column",{attrs:{label:"群数量",prop:"group_num"}}),o("el-table-column",{attrs:{label:"最近登录客户端",prop:"client_name"}}),o("el-table-column",{attrs:{label:"登录状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(o){return e.change_connect_state(t.row)}},model:{value:t.row.is_login,callback:function(o){e.$set(t.row,"is_login",o)},expression:"scope.row.is_login"}})]}}])}),o("el-table-column",{attrs:{align:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.is_login?o("el-button",{attrs:{size:"mini",type:"danger",disabled:""},on:{click:function(o){return e.delete_client(t.row)}}},[e._v("删除")]):o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.delete_client(t.row)}}},[e._v("删除")])]}}])})],1)],1)},E=[],A={name:"WXBot",data:function(){return{wxbot:[],nickname:"",bot_search_form:{nickname:"",client_id:""},client_info:[]}},methods:{load_wxbot:function(){var e=this;$.get(e.wx_url+"/wx/bot?nickname="+e.bot_search_form.nickname+"&page=1&page_size=10&client_id="+e.bot_search_form.client_id,(function(t,o){"success"===o&200===t.code&&(e.wxbot=t.data)}))},get_bot_detail:function(e,t,o){this.$router.push({name:"WXBotDetail",params:{wxid:e.wxid}})},load_client_info:function(){var e=this;$.get(e.wx_url+"/wx/client?is_all=true",(function(t,o){"success"===o&200===t.code&&(e.client_info=t.data)}))}},mounted:function(){this.load_wxbot(),this.load_client_info()}},D=A,B=Object(s["a"])(D,W,E,!1,null,"2f608db0",null),L=B.exports,Q=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"hello",staticStyle:{height:"100%"}},[o("div",{staticStyle:{height:"5%"}},[o("h2",{staticStyle:{display:"inline"}},[e._v(e._s(e.bot_detail_info.base_info.nickname))]),o("div",{staticStyle:{display:"inline","margin-left":"30px"}},[o("i",{staticClass:"el-icon-info"}),o("span",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(e.bot_detail_info.base_info.wxid))]),o("i",{staticClass:"el-icon-phone",staticStyle:{"margin-left":"15px"}}),o("span",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(e.bot_detail_info.base_info.phone))]),o("span",{staticStyle:{"margin-left":"15px"}},[e._v("好友：")]),o("span",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(e.bot_detail_info.friend.length)+"人")]),o("span",{staticStyle:{"margin-left":"15px"}},[e._v("群聊：")]),o("span",{staticStyle:{"margin-left":"5px"}},[e._v(e._s(e.bot_detail_info.group.length)+"个")])])]),o("div",{staticStyle:{"padding-top":"20px",height:"85%"}},[o("div",{staticStyle:{display:"inline-block","margin-right":"20px"}},[o("span",[e._v("进群打招呼：")]),o("el-switch",{staticStyle:{"vertical-align":"text-bottom"},on:{change:e.save_bot_info},model:{value:e.bot_detail_info.base_info.is_add_group_hellow,callback:function(t){e.$set(e.bot_detail_info.base_info,"is_add_group_hellow",t)},expression:"bot_detail_info.base_info.is_add_group_hellow"}}),o("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"font-size":"20px",color:"cornflowerblue","vertical-align":"text-bottom"},on:{click:function(t){e.add_group_hellow_dialog=!0}}})],1),o("div",{staticStyle:{display:"inline-block","margin-right":"20px"}},[o("span",[e._v("新人进群欢迎：")]),o("el-switch",{staticStyle:{"vertical-align":"text-bottom"},on:{change:e.save_bot_info},model:{value:e.bot_detail_info.base_info.is_welcome_member,callback:function(t){e.$set(e.bot_detail_info.base_info,"is_welcome_member",t)},expression:"bot_detail_info.base_info.is_welcome_member"}}),o("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"font-size":"20px",color:"cornflowerblue","vertical-align":"text-bottom"},on:{click:function(t){e.welcome_member_dialog=!0}}})],1),o("div",{staticStyle:{display:"inline-block","margin-right":"20px"}},[o("span",[e._v("加好友打招呼：")]),o("el-switch",{staticStyle:{"vertical-align":"text-bottom"},on:{change:e.save_bot_info},model:{value:e.bot_detail_info.base_info.is_add_friend_hellow,callback:function(t){e.$set(e.bot_detail_info.base_info,"is_add_friend_hellow",t)},expression:"bot_detail_info.base_info.is_add_friend_hellow"}}),o("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"font-size":"20px",color:"cornflowerblue","vertical-align":"text-bottom"},on:{click:function(t){e.add_friend_hellow_dialog=!0}}})],1),o("div",{staticStyle:{display:"inline-block","margin-right":"20px"}},[o("span",[e._v("关键词自动回答：")]),o("el-switch",{staticStyle:{"vertical-align":"text-bottom"},on:{change:e.save_bot_info},model:{value:e.bot_detail_info.base_info.is_keyword,callback:function(t){e.$set(e.bot_detail_info.base_info,"is_keyword",t)},expression:"bot_detail_info.base_info.is_keyword"}}),o("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"font-size":"20px",color:"cornflowerblue","vertical-align":"text-bottom"},on:{click:function(t){e.keywords_dialog=!0}}})],1),o("div",{staticStyle:{display:"inline-block","margin-right":"20px"}},[o("span",[e._v("回复模式：")]),o("el-radio-group",{on:{change:e.save_bot_info},model:{value:e.reply_pattern,callback:function(t){e.reply_pattern=t},expression:"reply_pattern"}},[o("el-radio",{attrs:{label:1}},[e._v("不回复")]),o("el-radio",{attrs:{label:2}},[e._v("群@回复")]),o("el-radio",{attrs:{label:3}},[e._v("回复所有")])],1)],1),o("div",{staticStyle:{display:"inline-block","margin-right":"20px"}},[o("el-button",{staticStyle:{"vertical-align":"text-bottom"},attrs:{type:"primary",size:"mini"}},[e._v("加好友")])],1),o("el-row",{staticStyle:{"padding-top":"30px",height:"100%"}},[o("el-col",{attrs:{span:1}},[o("span",{staticStyle:{"line-height":"40px"}},[e._v("好友：")])]),o("el-col",{staticStyle:{height:"100%"},attrs:{span:10}},[o("div",{staticStyle:{height:"100%","overflow-y":"scroll","overflow-x":"hidden"},attrs:{id:"friend_box"}},[o("el-table",{staticStyle:{width:"100%"},attrs:{stripe:!0,"show-header":!1,data:e.bot_detail_info.friend}},[o("el-table-column",{attrs:{width:"50px;"},scopedSlots:e._u([{key:"default",fn:function(e){return[o("img",{staticStyle:{"border-radius":"20px"},attrs:{src:e.row.headportrait,width:"40px"}})]}}])}),o("el-table-column",{attrs:{prop:"nickname"}}),o("el-table-column",{attrs:{prop:"status"}}),o("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.delete_client(t.row)}}},[e._v("配置")])]}}])}),o("el-table-column",{attrs:{align:"right",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.delete_client(t.row)}}},[e._v("删除好友")])]}}])})],1)],1)]),o("el-col",{attrs:{span:1}},[o("div",{staticStyle:{height:"100%",display:"inline-block"}})]),o("el-col",{attrs:{span:1}},[o("span",{staticStyle:{"line-height":"40px"}},[e._v("群组：")])]),o("el-col",{staticStyle:{height:"100%"},attrs:{span:10}},[o("div",{staticStyle:{height:"100%","overflow-y":"scroll","overflow-x":"hidden"},attrs:{id:"group_box"}},[o("el-table",{staticStyle:{width:"100%"},attrs:{stripe:!0,"show-header":!1,data:e.bot_detail_info.group}},[o("el-table-column",{attrs:{width:"50px;"},scopedSlots:e._u([{key:"default",fn:function(e){return[o("img",{staticStyle:{"border-radius":"20px"},attrs:{src:e.row.headportrait,width:"40px"}})]}}])}),o("el-table-column",{attrs:{prop:"nickname"}}),o("el-table-column",{attrs:{prop:"status"}}),o("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.delete_client(t.row)}}},[e._v("配置")])]}}])}),o("el-table-column",{attrs:{align:"right",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.delete_client(t.row)}}},[e._v("退出群聊")])]}}])})],1)],1)])],1)],1),o("el-dialog",{attrs:{title:"进群介绍语",visible:e.add_group_hellow_dialog,width:"70%"},on:{"update:visible":function(t){e.add_group_hellow_dialog=t}}},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add_group_word(e.add_group_hellow)}}},[e._v("添 加")]),e._l(e.add_group_hellow,(function(t,n){return o("div",{key:n,staticStyle:{"margin-top":"5px"}},[o("el-input",{staticStyle:{display:"inline-block",width:"50%"},attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.add_group_hellow[n],callback:function(t){e.$set(e.add_group_hellow,n,t)},expression:"add_group_hellow[index]"}}),o("el-button",{staticStyle:{"vertical-align":"bottom",display:"inline-block",padding:"4px 15px","margin-top":"5px"},attrs:{type:"danger"},on:{click:function(t){return e.remove_group_word(e.add_group_hellow,n)}}},[o("i",{staticClass:"el-icon-remove-outline",staticStyle:{"font-size":"30px",color:"white","vertical-align":"text-bottom"}})])],1)})),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.add_group_hellow_dialog=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.save_bot_info(),e.add_group_hellow_dialog=!1}}},[e._v("确 定")])],1)],2),o("el-dialog",{attrs:{title:"进群欢迎语",visible:e.welcome_member_dialog,width:"70%"},on:{"update:visible":function(t){e.welcome_member_dialog=t}}},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add_group_word(e.welcome_member)}}},[e._v("添 加")]),e._l(e.welcome_member,(function(t,n){return o("div",{key:n,staticStyle:{"margin-top":"5px"}},[o("el-input",{staticStyle:{display:"inline-block",width:"50%"},attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.welcome_member[n],callback:function(t){e.$set(e.welcome_member,n,t)},expression:"welcome_member[index]"}}),o("el-button",{staticStyle:{"vertical-align":"bottom",display:"inline-block",padding:"4px 15px","margin-top":"5px"},attrs:{type:"danger"},on:{click:function(t){return e.remove_group_word(e.welcome_member,n)}}},[o("i",{staticClass:"el-icon-remove-outline",staticStyle:{"font-size":"30px",color:"white","vertical-align":"text-bottom"}})])],1)})),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.welcome_member_dialog=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.save_bot_info(),e.welcome_member_dialog=!1}}},[e._v("确 定")])],1)],2),o("el-dialog",{attrs:{title:"加好友介绍语",visible:e.add_friend_hellow_dialog,width:"70%"},on:{"update:visible":function(t){e.add_friend_hellow_dialog=t}}},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add_group_word(e.add_friend_hellow)}}},[e._v("添 加")]),e._l(e.add_friend_hellow,(function(t,n){return o("div",{key:n,staticStyle:{"margin-top":"5px"}},[o("el-input",{staticStyle:{display:"inline-block",width:"50%"},attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.add_friend_hellow[n],callback:function(t){e.$set(e.add_friend_hellow,n,t)},expression:"add_friend_hellow[index]"}}),o("el-button",{staticStyle:{"vertical-align":"bottom",display:"inline-block",padding:"4px 15px","margin-top":"5px"},attrs:{type:"danger"},on:{click:function(t){return e.remove_group_word(e.add_friend_hellow,n)}}},[o("i",{staticClass:"el-icon-remove-outline",staticStyle:{"font-size":"30px",color:"white","vertical-align":"text-bottom"}})])],1)})),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.add_friend_hellow_dialog=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.save_bot_info(),e.add_friend_hellow_dialog=!1}}},[e._v("确 定")])],1)],2),o("el-dialog",{attrs:{title:"关键词回答",visible:e.keywords_dialog,width:"70%"},on:{"update:visible":function(t){e.keywords_dialog=t}}},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add_group_keyword(e.keywords)}}},[e._v("添 加")]),e._l(e.keywords,(function(t){return o("div",{staticStyle:{"margin-top":"5px"}},[o("el-input",{staticStyle:{display:"inline-block",width:"20%"},attrs:{clearable:"",placeholder:"关键字"},model:{value:t.keyword,callback:function(o){e.$set(t,"keyword",o)},expression:"item.keyword"}}),o("el-input",{staticStyle:{display:"inline-block",width:"40%"},attrs:{clearable:"",placeholder:"回答"},model:{value:t.reply,callback:function(o){e.$set(t,"reply",o)},expression:"item.reply"}}),o("el-button",{staticStyle:{"vertical-align":"bottom",display:"inline-block",padding:"4px 15px","margin-top":"5px"},attrs:{type:"danger"},on:{click:function(t){return e.remove_group_word(e.keywords,e.index)}}},[o("i",{staticClass:"el-icon-remove-outline",staticStyle:{"font-size":"30px",color:"white","vertical-align":"text-bottom"}})])],1)})),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.keywords_dialog=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.save_bot_info(),e.keywords_dialog=!1}}},[e._v("确 定")])],1)],2)],1)},T=[],F=(o("a15b"),o("a434"),o("bea6")),X=o("491d"),P=o("d188"),I={components:{ElButton:P["a"],ElInput:X["a"],ElFormItem:F["a"]},name:"WXBotDetail",data:function(){return{wxid:this.$route.params.wxid,bot_detail_info:{base_info:{nickname:""}},add_group_hellow_dialog:!1,welcome_member_dialog:!1,add_friend_hellow_dialog:!1,keywords_dialog:!1,add_group_hellow:[],welcome_member:[],add_friend_hellow:[],keywords:[],reply_pattern:1}},methods:{get_bot_detail_info:function(){var e=this;$.get(e.wx_url+"/wx/bot/detail?wxid="+e.wxid,(function(t,o){"success"===o&&200===t.code&&(console.log(t.data),e.bot_detail_info=t.data,t.data.base_info.add_group_hellow&&(e.add_group_hellow=t.data.base_info.add_group_hellow),t.data.base_info.welcome_member&&(e.welcome_member=t.data.base_info.welcome_member),t.data.base_info.add_friend_hellow&&(e.add_friend_hellow=t.data.base_info.add_friend_hellow),t.data.base_info.keywords&&(e.keywords=t.data.base_info.keywords),t.data.base_info.reply_pattern&&(e.reply_pattern=t.data.base_info.reply_pattern))}))},save_bot_info:function(){var e=this;$.post(e.wx_url+"/wx/bot/detail",{wxid:e.wxid,is_add_group_hellow:e.bot_detail_info.base_info.is_add_group_hellow,add_group_hellow:e.add_group_hellow.join("\n"),is_welcome_member:e.bot_detail_info.base_info.is_welcome_member,welcome_member:e.welcome_member.join("\n"),is_add_friend_hellow:e.bot_detail_info.base_info.is_add_friend_hellow,add_friend_hellow:e.add_friend_hellow.join("\n"),is_keyword:e.bot_detail_info.base_info.is_keyword,keywords:JSON.stringify(e.keywords),reply_pattern:e.reply_pattern},(function(t,o){"success"===o&&"success"===t.data?e.$message({type:"success",message:"操作成功"}):e.$message({type:"error",message:"操作失败"})}))},add_group_word:function(e){e.push("")},add_group_keyword:function(e){e.push({})},remove_group_word:function(e,t){e.splice(t,1)}},mounted:function(){this.get_bot_detail_info()}},V=I,J=(o("2bf7"),Object(s["a"])(V,Q,T,!1,null,"52425de0",null)),M=J.exports,N=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"wx_friend"},[o("h1",[e._v("好友管理")]),o("el-table",{staticStyle:{width:"100%"},attrs:{"show-header":"false",data:e.friends_info}},[o("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(e){return[o("img",{attrs:{src:e.row.headportrait,width:"40px"}})]}}])}),o("el-table-column",{attrs:{label:"wxid",prop:"wxid"}}),o("el-table-column",{attrs:{label:"昵称",prop:"nickname"}}),o("el-table-column",{attrs:{label:"type",prop:"type"}}),o("el-table-column",{attrs:{label:"所属微信wxid",prop:"bot_wxid"}}),o("el-table-column",{attrs:{label:"所属微信name",prop:"bot_name"}}),o("el-table-column",{attrs:{label:"好友状态",prop:"status"}}),o("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[o("el-input",{attrs:{width:"70%",size:"mini",placeholder:"输入关键字搜索"},on:{change:e.load_wxbot},model:{value:e.nickname,callback:function(t){e.nickname=t},expression:"nickname"}})]}},{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return e.delete_client(t.row)}}},[e._v("编辑配置")])]}}])}),o("el-table-column",{attrs:{align:"right",width:"90px"},scopedSlots:e._u([{key:"header",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(o){return e.delete_client(t.row)}}},[e._v("刷新")])]}},{key:"default",fn:function(t){return["好友"===t.row.type?o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.delete_client(t.row)}}},[e._v("删除好友")]):o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return e.delete_client(t.row)}}},[e._v("退出群聊")])]}}])})],1)],1)},U=[],G={name:"WXFriend",data:function(){return{friends_info:[],nickname:"",bot_wxid:""}},methods:{load_friends_info:function(){var e=this;$.get(e.wx_url+"/wx/friend?name="+e.nickname,(function(t,o){"success"===o&&200===t.code&&(e.friends_info=t.data)}))}},mounted:function(){this.load_friends_info()}},H=G,K=Object(s["a"])(H,N,U,!1,null,"4cddba50",null),R=K.exports;n["default"].use(d["a"]);var Y=new d["a"]({routes:[{path:"/qa_data",name:"QAData",component:w},{path:"/qa_info",name:"QAInfo",component:k},{path:"/wx/client",name:"WXClient",component:O},{path:"/wx/bot",name:"WXBot",component:L},{path:"/wx/bot/detail",name:"WXBotDetail",component:M},{path:"/wx/friend",name:"WXFriend",component:R}]}),Z=o("5c96"),ee=o.n(Z),te=o("1157"),oe=o.n(te);o("0fae");n["default"].config.productionTip=!1,n["default"].use(ee.a),n["default"].prototype.robot_url="http://127.0.0.1:8887",n["default"].prototype.wx_url="http://127.0.0.1:8877",n["default"].prototype.$=oe.a,new n["default"]({router:Y,render:function(e){return e(_)}}).$mount("#app")},"85ec":function(e,t,o){}});
//# sourceMappingURL=app.a54bb8a4.js.map